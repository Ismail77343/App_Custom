{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-07-09 08:51:17.445742",
 "css": ".qr-code{\n    float:right;\n    border: 4px solid #ab1d5c !important;\n    border-radius:20px;\n}\n.head_{\n   font-size:12px; \n}\nhr{\n    border-top: 3px solid #d1d8dd !important;\n    box-shadow: 2px 2px 4px 1px #ab1d5c;\n}\ntfoot{\n        background: #ab1d5c;\n    color: white !important;\n    font-weight: bold;\n}\ntfoot td{\n        color: white !important;\n\n}\n.flex {\n      display: flex;\n      justify-content: center;\n        direction: rtl;\n\n    }\n\n    .clm {\n      flex: 1 1 300px;\n\n      text-align: center;\n    }\n.invoice-heading {\n  margin: 0;\n}\ntable{\n    direction:rtl;\n}\n.ksa-invoice-table {\n  border: 1px solid #888a8e;\n  border-collapse: collapse;\n  width: 100%;\n  margin: 20px 0;\n  font-size: 16px;\n}\n\n.ksa-invoice-table.two-columns td:nth-child(2) {\n  direction: rtl;\n}\n.print-format th{\n    background:#ab1d5c !important;\n    color:white;\n}\n.ksa-invoice-table th {\n  border: 1px solid #888a8e;\n  max-width: 50%;\n  padding: 8px;\n}\n\n.ksa-invoice-table td {\n  padding: 5px;\n  border: 1px solid #888a8e;\n  max-width: 50%;\n}\n\n.ksa-invoice-table thead,\n.ksa-invoice-table tfoot {\n  text-transform: uppercase;\n}\n\n.qr-rtl {\n  direction: rtl;\n}\n\n.qr-flex{\n    display: flex;\n    justify-content: space-between;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "{% set company_doc = frappe.get_doc(\"Company\", doc.company) %}\r\n<div class=\"ksa-vat-format\">\r\n    {% set company = frappe.get_doc(\"Company\", doc.company)%}\r\n            {% if (doc.company_address) %}\r\n                {% set supplier_address_doc = frappe.get_doc('Address', doc.company_address) %}\r\n            {% endif %}\r\n            \r\n            {% if(doc.customer_address) %}\r\n                {% set customer_address = frappe.get_doc('Address', doc.customer_address ) %}\r\n            {% endif %}\r\n            \r\n            {% if(doc.shipping_address_name) %}\r\n                {% set customer_shipping_address = frappe.get_doc('Address', doc.shipping_address_name ) %}\r\n            {% endif %}  \r\n    <div class=\"flex\">\r\n        <div class=\"clm\">\r\n            <!-- <table>\r\n                <thead>\r\n                    <tr>\r\n                      <th style=\"text-align: right;\">{{ company.company_name_in_arabic }}</th>\r\n                    </tr>\r\n                  </thead>\r\n            </table> -->\r\n            <div class=\"head_\">\r\n                <p>\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629: </p>\r\n                <p>{{doc.name}}</p>\r\n                <p>\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629: <span>{{doc.posting_date}}</span></p>\r\n                <p>\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0648\u0631\u064a\u062f: <span>{{doc.posting_date}}</span></p>\r\n            </div>\r\n        </div>\r\n        <div class=\"clm\">\r\n            <img style=\"width:50%;display:block;margin:auto;\" src=\"{{ company_doc.company_logo }}\" />\r\n            <h2 class=\"invoice-heading\">TAX INVOICE</h2>\r\n            <h2 class=\"invoice-heading\">\u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629</h2>\r\n        </div>\r\n        <div class=\"clm\">\r\n            \r\n                <!-- <table style=\"direction: ltr;\">\r\n                    <thead>\r\n                        <tr>\r\n                          <th >{{ company.name }}</th>\r\n                        </tr>\r\n                      </thead>\r\n                </table> -->\r\n\r\n                <div style=\"direction: ltr;\" class=\"head_\">\r\n                    <p>Invoice #: </p>\r\n                    <p>{{doc.name}}</p>\r\n                    <p>Invoice Date: <span>{{doc.posting_date}}</span></p>\r\n                    <p>Date of Supply: <span>{{doc.posting_date}}</span></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- <table class=\"ksa-invoice-table two-columns direction: ltr;\">\r\n\r\n            <tbody>\r\n              <tr>\r\n                  <td>{{doc.name}}</td>\r\n                  <td style=\"direction: ltr;\">Invoice#:</td>\r\n              </tr>\r\n              <tr>\r\n                  <td>{{doc.posting_date}}</td>\r\n                  <td style=\"direction: ltr;\">:</td>\r\n              </tr>\r\n              <tr>\r\n                  <td>{{doc.posting_date}}</td>\r\n                  <td style=\"direction: ltr;\">Date of Supply:</td>\r\n              </tr>\r\n              </tbody>\r\n          </table> -->\r\n    <!-- <div class=\"qr-flex\">\r\n        \r\n\r\n        <div style=\"qr-flex: 3\">\r\n        {% if company_doc.company_logo %}\r\n            <img style=\"width:20%;display:block;margin:auto;\" src=\"{{ company_doc.company_logo }}\" />\r\n        {% endif %}\r\n\r\n            \r\n        \r\n        </div>\r\n        \r\n\r\n    </div> -->\r\n    \r\n    <!-- Invoice Info -->\r\n    <!-- <table class=\"ksa-invoice-table two-columns\">\r\n      \r\n      <tbody>\r\n        <tr>\r\n            <td>\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629: </td>\r\n            <td>{{doc.name}}</td>\r\n            <td style=\"direction: ltr;\">Invoice#:</td>\r\n        </tr>\r\n        <tr>\r\n            <td>\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629: </td>\r\n            <td>{{doc.posting_date}}</td>\r\n            <td style=\"direction: ltr;\">Invoice Date:</td>\r\n        </tr>\r\n        <tr>\r\n            <td>\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0648\u0631\u064a\u062f: </td>\r\n            <td>{{doc.posting_date}}</td>\r\n            <td style=\"direction: ltr;\">Date of Supply:</td>\r\n        </tr>\r\n        </tbody>\r\n    </table> -->\r\n    <hr>\r\n    <!--Supplier Info -->\r\n    <table class=\"ksa-invoice-table two-columns\">\r\n        <tbody>\r\n\r\n        <tr>\r\n            <th colspan=\"2\">{{ company.company_name_in_arabic }}</th>\r\n            <th colspan=\"2\" style=\"direction: ltr;text-align:left\">{{ company.name }}</th>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"2\">\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0648\u0631\u062f:</td>\r\n            <td colspan=\"2\" style=\"direction: ltr;text-align:left\">Supplier Info:</td>\r\n        </tr>\r\n  \r\n\t\t{% if (company.tax_id) %}\r\n        <tr>\r\n            <td>\u0631\u0642\u0645 \u0627\u0644\u062a\u0639\u0631\u064a\u0641 \u0627\u0644\u0636\u0631\u064a\u0628\u064a \u0644\u0644\u0645\u0648\u0631\u062f:</td>\r\n            <td>{{ company.tax_id }}</td>\r\n            <td style=\"direction: ltr;\">Supplier Tax Identification Number:</td>\r\n        </tr>\r\n        {% endif %}\r\n        \r\n        \r\n        \r\n        {% if(supplier_address_doc) %}\r\n        <tr>\r\n            <td colspan=\"2\">{{ supplier_address_doc.address_in_arabic}} </td>\r\n            <td style=\"direction: ltr;\">{{ supplier_address_doc.address_line1}} </td>\r\n        </tr>\r\n        <tr>\r\n            <td>\u0647\u0627\u062a\u0641: </td>\r\n            <td>{{ supplier_address_doc.phone }}</td>\r\n            <td style=\"direction: ltr;\">Phone: </td>\r\n        </tr>\r\n        <tr>\r\n            <td>\u0628\u0631\u064a\u062f \u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a: </td>\r\n            <td>{{ supplier_address_doc.email_id }}</td>\r\n            <td style=\"direction: ltr;\">Email: </td>\r\n        </tr>\r\n        {% endif %}\r\n\r\n            <!-- Customer Info -->\r\n\r\n            <tr>\r\n                <th colspan=\"2\">\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0639\u0645\u064a\u0644:</th>\r\n                <th colspan=\"2\" style=\"direction: ltr;text-align:left\">CUSTOMER Info:</th>\r\n            </tr>\r\n\r\n\t\t{% set customer_tax_id = frappe.db.get_value('Customer', doc.customer, 'tax_id') %}\r\n\t\t{% if customer_tax_id %}\r\n        <tr>\r\n          <td>\u0631\u0642\u0645 \u0627\u0644\u062a\u0639\u0631\u064a\u0641 \u0627\u0644\u0636\u0631\u064a\u0628\u064a \u0644\u0644\u0639\u0645\u064a\u0644:</td>\r\n          <td>{{ customer_tax_id }}</td>\r\n          <td style=\"direction: ltr;\">Customer Tax Identification Number:</td>\r\n        </tr>\r\n        {% endif %}\r\n        <tr>\r\n            <td colspan=\"2\"> {{ doc.customer_name_in_arabic }} </td>\r\n          <td style=\"direction: ltr;\"> {{ doc.customer }}</td>\r\n        </tr>\r\n        \r\n        {% if(customer_address) %}\r\n        <tr>\r\n            <td colspan=\"2\">{{ customer_address.address_in_arabic}} </td>\r\n            <td style=\"direction: ltr;\">{{ customer_address.address_line1}} </td>\r\n        </tr>\r\n        {% endif %}\r\n        \r\n        {% if(customer_shipping_address) %}\r\n        <tr>\r\n            <td style=\"direction: ltr;\">{{ customer_shipping_address.address_line1}} </td>\r\n            <td colspan=\"2\">SHIPPING ADDRESS:</td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"2\">\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0634\u062d\u0646:</td>\r\n            <td style=\"direction: ltr;\">{{ customer_shipping_address.address_in_arabic}} </td>\r\n        </tr>\r\n        {% endif %}\r\n        \r\n\t\t{% if(doc.po_no) %}\r\n        <!-- <tr>\r\n          <td>OTHER INFORMATION</td>\r\n          <td>\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0623\u062e\u0631\u0649</td>\r\n        </tr> -->\r\n\r\n        <tr>\r\n            <td>\u0631\u0642\u0645 \u0623\u0645\u0631 \u0627\u0644\u0634\u0631\u0627\u0621: </td>\r\n            <td>{{ doc.po_no }}</td>\r\n            <td style=\"direction: ltr;\">Purchase Order Number: </td>\r\n        </tr>\r\n        {% endif %}\r\n        \r\n        <tr>\r\n            <td>\u062a\u0627\u0631\u064a\u062e \u0627\u0633\u062a\u062d\u0642\u0627\u0642 \u0627\u0644\u062f\u0641\u0639: </td>\r\n            <td>{{  doc.due_date}}</td>\r\n            <td style=\"direction: ltr;\">Payment Due Date: </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <!--Dynamic Colspan for total row columns-->\r\n    {% set col = namespace(one = 2, two = 1) %}\r\n    {% set length = doc.taxes | length %}\r\n    {% set length = length / 2 | round %}\r\n    {% set col.one = col.one + length %}\r\n    {% set col.two = col.two + length %}\r\n  \r\n    {%- if(doc.taxes | length % 2 > 0 ) -%}\r\n      {% set col.two = col.two + 1 %}\r\n    {% endif %}\r\n    \r\n    <!-- Items -->\r\n    {% set total = namespace(amount = 0) %}\r\n    <table class=\"ksa-invoice-table\">\r\n      <thead>\r\n        <tr>\r\n          <th>Item </th>\r\n          <th>\r\n            UOM\r\n          </th>\r\n          <th>\r\n            Unit price\r\n          </th>\r\n          <th>\r\n            Quantity \r\n          </th>\r\n          <th>\r\n            Taxable Amount \r\n          </th>\r\n          \r\n          {% for row in doc.taxes %}\r\n            <th style=\"min-width: 130px\">{{row.description}}</th>\r\n          {% endfor %}\r\n          \r\n          <th>\r\n            Total\r\n          </th>\r\n        </tr>\r\n        <tr>\r\n            <th>  \u0627\u0644\u0627\u0635\u0646\u0627\u0641 </th>\r\n            <th>\r\n                 \u0627\u0644\u0648\u062d\u062f\u0629\r\n            </th>\r\n            <th>\r\n              \u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629\r\n            </th>\r\n            <th>\r\n              \u0627\u0644\u0643\u0645\u064a\u0629\r\n            </th>\r\n            <th>\r\n              \u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u062e\u0627\u0636\u0639 \u0644\u0644\u0636\u0631\u064a\u0628\u0629\r\n            </th>\r\n            \r\n            {% for row in doc.taxes %}\r\n              <th style=\"min-width: 130px\">{{row.description}}</th>\r\n            {% endfor %}\r\n            \r\n            <th>\r\n              \u0627\u0644\u0645\u062c\u0645\u0648\u0639\r\n            </th>\r\n          </tr>\r\n      </thead>\r\n      <tbody>\r\n        {%- for item in doc.items -%}\r\n        {% set total.amount = item.amount %}\r\n        <tr>\r\n          <td>{{ item.item_code or item.item_name }}</td>\r\n          <td>{{item.uom}}</td>\r\n          <td>{{ item.get_formatted(\"rate\") }}</td>\r\n          <td>{{ item.qty }}</td>\r\n          <td>{{ item.get_formatted(\"amount\") }}</td>\r\n           {% for row in doc.taxes %}\r\n                {% set data_object = json.loads(row.item_wise_tax_detail) %}\r\n                {% set key = item.item_code or item.item_name %}\r\n                {% set tax_amount = frappe.utils.flt(data_object[key][1]/doc.conversion_rate, row.precision('tax_amount')) %}\r\n                <td>\r\n                   <div class=\"qr-flex\">\r\n                    {%- if(data_object[key][0])-%}\r\n                    <span>{{ frappe.format(data_object[key][0], {'fieldtype': 'Percent'}) }}</span>\r\n                    {%- endif -%}\r\n                    <span>\r\n                    {%- if(data_object[key][1])-%}\r\n                        {{ frappe.format_value(tax_amount, currency=doc.currency) }}</span>\r\n                        {% set total.amount = total.amount + tax_amount %}\r\n                    {%- endif -%}\r\n                    </div>\r\n                </td>\r\n            {% endfor %}\r\n          <td>{{  frappe.format_value(frappe.utils.flt(total.amount, doc.precision('total_taxes_and_charges')), currency=doc.currency) }}</td>\r\n        </tr>\r\n        {%- endfor -%}\r\n      </tbody>\r\n      <tfoot>\r\n        <tr>\r\n          <!-- <td>\r\n            {{ doc.get_formatted(\"total\") }} <br />\r\n            {{ doc.get_formatted(\"total_taxes_and_charges\") }}\r\n          </td>\r\n           -->\r\n          <td colspan=3 class=\"qr-rtl\">\r\n            \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u0628\u0627\u0633\u062a\u062b\u0646\u0627\u0621 \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629\r\n            <br />\r\n            \u0625\u062c\u0645\u0627\u0644\u064a \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629\r\n          </td>\r\n          <td>\r\n            {{ doc.get_formatted(\"total\") }} <br />\r\n            {{ doc.get_formatted(\"total_taxes_and_charges\") }}\r\n          </td>\r\n          <td style=\"direction: ltr;\" colspan={{ col.one+1 }}>\r\n            Total (Excluding VAT)\r\n            <br />\r\n            Total VAT\r\n          </td>\r\n          \r\n        </tr>\r\n        <tr>\r\n          <!-- <td>{{ doc.get_formatted(\"grand_total\") }}</td> -->\r\n          <td  colspan={{  col.one +1 }} class=\"qr-rtl\">\r\n              \u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u0633\u062a\u062d\u0642</td>\r\n              <td>{{ doc.get_formatted(\"grand_total\") }}</td>\r\n          <td style=\"direction: ltr;\" colspan={{  col.one+1 }}>Total Amount Due</td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n    <div style=\"width:200px;\">\r\n        <img class=\"qr-code\" style=\"width:100%;\" src={{doc.ksa_einv_qr}}>\r\n    </div>\r\n\t{%- if doc.terms -%}\r\n    <p>\r\n      {{doc.terms}}\r\n    </p>\r\n\t{%- endif -%}\r\n</div>\r\n\r\n",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2024-07-10 17:14:57.543006",
 "modified_by": "Administrator",
 "module": "Alfrasapp",
 "name": "Alfras Sales Invoice",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}